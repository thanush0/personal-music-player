"use strict";(self.webpackChunkpersonal_music_player=self.webpackChunkpersonal_music_player||[]).push([[481],{83390:(e,l,s)=>{s.d(l,{Ay:()=>r,eR:()=>d});var i=s(67818),t=s(9950),n=s(33767),a=s(44414);const r=(0,t.memo)((e=>{const{view:l,fields:s}=e,i="LIST"===l;return(0,a.jsx)("div",{style:{color:"#bababa"},className:"mobile-hidden flex justify-between items-center py-2",children:s.map(((e,l)=>(0,a.jsx)(e,{isList:i},l)))})})),d={Index:e=>(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)("h3",{className:"column-name text-center",children:"#"})}),Title:e=>{const{t:l}=(0,i.Bd)(["playlist"]);return(0,a.jsx)("div",{style:{flex:8},children:(0,a.jsx)("h3",{className:"column-name text-left",children:l("Title")})})},Artists:e=>{const{isList:l}=e,{t:s}=(0,i.Bd)(["playlist"]);return l?null:(0,a.jsx)("div",{style:{flex:5},className:"tablet-hidden",children:(0,a.jsx)("h3",{className:"column-name text-left",children:s("Artist")})})},Time:e=>(0,a.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"flex-end"},children:(0,a.jsx)("h3",{style:{marginRight:10,textAlign:"right"},children:(0,a.jsx)(n.zD,{})})}),Space:e=>(0,a.jsx)("div",{style:{flex:1},className:"tablet-hidden"}),Album:e=>{const{t:l}=(0,i.Bd)(["playlist"]);return(0,a.jsx)("div",{style:{flex:5},children:(0,a.jsx)("h3",{className:"column-name tablet-hidden text-left",children:l("Album")})})},DateAdded:e=>{const{t:l}=(0,i.Bd)(["playlist"]);return(0,a.jsx)("div",{style:{flex:3},children:(0,a.jsx)("h3",{className:"column-name tablet-hidden text-left",children:l("Date Added")})})}}},30797:(e,l,s)=>{s.d(l,{Ay:()=>k,jh:()=>w});var i=s(89379),t=s(22748),n=s(13417),a=s(9950),r=s(33767),d=s(73028),o=s(17858),c=s(67818),u=s(28472),p=s(92994),x=s(53455),h=s(23726),m=s(28504),v=s(2287),j=s(22567),y=s(50411),g=s(26359),f=s(44414);const A=e=>e.slice(0,3).map(((l,s)=>(0,f.jsxs)("span",{children:[(0,f.jsx)(h.k,{artist:l,trigger:["contextMenu"],children:(0,f.jsx)(p.N_,{to:"/artist/".concat(l.id),style:{cursor:"pointer"},children:l.name},l.id)}),s<e.slice(0,3).length-1?", ":""]},l.id))),b=e=>{var l,s,i,t,n;let{song:a,isList:r}=e;if(!r)return null;return(null===(l=((null===a||void 0===a||null===(s=a.album)||void 0===s?void 0:s.images)||[])[0])||void 0===l?void 0:l.url)?(0,f.jsx)("img",{alt:"song cover",src:(null===(i=a.album)||void 0===i||null===(t=i.images)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.url)||"/images/playlist.png",className:"w-10 h-10 mr-4 rounded-md"}):null},N=e=>{let{index:l,isCurrent:s,isPlaying:i,onClick:t}=e;return(0,f.jsxs)("div",{style:{flex:1},className:"mobile-hidden",children:[(0,f.jsx)("p",{className:"song-details-index",children:s&&i?(0,f.jsx)("img",{alt:"equaliser",style:{height:10,margin:"0 auto"},src:y.GD}):(0,f.jsx)("span",{style:{margin:"0 auto"},children:l+1})}),(0,f.jsx)("button",{className:"song-details-play",onClick:t,children:s&&i?(0,f.jsx)(r.vR,{}):(0,f.jsx)(r.jG,{})})]})},k=e=>{var l;const{size:s="normal"}=e,{view:t,song:n,index:r,context:o,artist:c,playlist:p,canEdit:h,fields:m,album:v}=e,y=(0,j.A)(),A=(0,u.useAppDispatch)(),b=(0,u.useAppSelector)((e=>!!e.auth.user)),k=(0,u.useAppSelector)((e=>{var l;return!(null===(l=e.spotify.state)||void 0===l||!l.paused)})),w=(0,u.useAppSelector)((e=>{var l;return null===(l=e.spotify.state)||void 0===l?void 0:l.track_window.current_track}),((e,l)=>(null===e||void 0===e?void 0:e.id)===(null===l||void 0===l?void 0:l.id))),S=(0,a.useMemo)((()=>(null===w||void 0===w?void 0:w.uri)===n.uri),[w,n]),C="LIST"===(y?"LIST":t),T=(0,a.useCallback)((()=>b?S&&k?x.D.pausePlayback():S?x.D.startPlayback():x.D.startPlayback(o):A(g.e5.openLoginModal(n.album.images[0].url))),[b,S,k,o,A,null===(l=n.album)||void 0===l?void 0:l.images]);return(0,f.jsx)(d.C,{track:n,album:v,artist:c,canEdit:h,playlist:p,trigger:["contextMenu"],saved:e.onToggleLike?e.saved:void 0,onSavedToggle:e.onToggleLike?e.onToggleLike:void 0,children:(0,f.jsx)("button",{onClick:y?T:void 0,onDoubleClick:y?void 0:T,className:"flex flex-col w-full hover:bg-spotify-gray-lightest items-center ".concat("normal"===s?"p-2":""," rounded-lg ").concat(e.activable?"activable-song":""),children:(0,f.jsx)("div",{className:"song-details flex flex-row items-center w-full",children:(0,f.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[void 0!==r?(0,f.jsx)(N,{index:r,isCurrent:S,isPlaying:k,onClick:T}):null,m.map(((l,s)=>(0,f.jsx)(l,(0,i.A)({isList:C,onPlay:T,isCurrent:S,isPlaying:k},e),s)))]})})})},n.id)},w={Title:e=>{const{song:l,isList:s,isCurrent:i}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"flex flex-col",style:{flex:8},children:(0,f.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,f.jsx)("div",{className:"flex flex-row items-center",children:(0,f.jsxs)("p",{className:"title text-left ".concat(i?"active":""),children:[(0,f.jsx)("span",{children:l.name})," ",l.explicit&&!s?(0,f.jsx)("span",{className:"explicit",children:"E"}):null]})}),s?(0,f.jsxs)("p",{className:"text-left artist mobile-hidden",children:[l.explicit?(0,f.jsx)("span",{className:"explicit",children:"E"}):null,A(l.artists)]}):null]})})})})},ClickeableCover:e=>{var l,s;const{song:i,onPlay:t,isCurrent:n,isPlaying:a}=e,d=(0,f.jsx)("button",{className:"image-button",onClick:t,children:a&&n?(0,f.jsx)(r.vR,{}):(0,f.jsx)(r.jG,{})}),o=null===(l=((null===i||void 0===i||null===(s=i.album)||void 0===s?void 0:s.images)||[])[0])||void 0===l?void 0:l.url;return o?(0,f.jsx)("div",{className:"image p-2 h-full items-center",children:(0,f.jsxs)("div",{style:{position:"relative"},children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:o,alt:i.album.name,className:"rounded-md",style:{width:40,height:40}})}),d]})}):null},TitleWithCover:e=>{const{song:l,isList:s,isCurrent:t}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"flex flex-col",style:{flex:8},children:(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,f.jsx)(b,(0,i.A)({},e)),(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,f.jsx)("div",{className:"flex flex-row items-center",children:(0,f.jsxs)("p",{className:"title text-left ".concat(t?"active":""),children:[(0,f.jsx)("span",{children:l.name})," ",l.explicit&&!s?(0,f.jsx)("span",{className:"explicit",children:"E"}):null]})}),s?(0,f.jsxs)("p",{className:"text-left artist mobile-hidden",children:[l.explicit?(0,f.jsx)("span",{className:"explicit",children:"E"}):null,(0,f.jsx)("div",{children:A(l.artists)})]}):null]})]})})})},Artists:e=>{let{song:l,isList:s}=e;return s?null:(0,f.jsx)("p",{className:"text-left tablet-hidden",style:{flex:5},children:A(l.artists)})},Cover:b,Album:e=>{let{song:l}=e;const s=(0,p.Zp)(),i=(0,u.useAppDispatch)(),t=(0,u.useAppSelector)((e=>!!e.auth.user)),n=(0,a.useCallback)((e=>{if(e&&e.stopPropagation(),e&&e.preventDefault(),!t)return i(g.e5.openLoginModal(l.album.images[0].url));s("/album/".concat(l.album.id))}),[t,s,l.album.id,l.album.images,i]);return(0,f.jsx)("p",{className:"text-left tablet-hidden",style:{flex:5},children:(0,f.jsx)(p.N_,{to:"/album/".concat(l.album.id),onClick:n,children:l.album.name})})},AddedAt:e=>{let{addedAt:l}=e;const s=(0,u.useAppSelector)((e=>e.language.language));return l?(0,f.jsx)("p",{className:"text-left tablet-hidden",style:{flex:3},children:(0,f.jsx)(n.A,{date:new Date(l),locale:"es"===s?"es-AR":void 0})}):null},AddToLiked:e=>{let{song:l,saved:s,onLikeRefresh:i}=e;const t=(0,u.useAppDispatch)(),n=(0,u.useAppSelector)((e=>{var l;return null===(l=e.spotify.state)||void 0===l?void 0:l.track_window.current_track.id}));return(0,f.jsx)("p",{className:"text-right tablet-hidden",style:{flex:1,display:"flex",justifyContent:"end"},children:(0,f.jsx)(m.$,{size:18,id:l.id,isSaved:!!s,onToggle:()=>{i&&i(l.id),n===l.id&&t(v.gj.setLiked({liked:!s}))}})})},Actions:e=>{let{song:l}=e;const[s]=(0,c.Bd)(["order"]);return(0,f.jsx)("p",{className:"text-right actions tablet-hidden",style:{flex:1,display:"flex",justifyContent:"center"},children:(0,f.jsx)(d.C,{track:l,trigger:["click"],children:(0,f.jsx)("div",{children:(0,f.jsx)(t.A,{title:"".concat(s("More options for")," ").concat(l.name),children:(0,f.jsx)("div",{children:(0,f.jsx)(r.ZB,{})})})})})})},Time:e=>{let{song:l}=e;return(0,f.jsx)("p",{className:"text-right ",style:{flex:1,display:"flex",justifyContent:"end"},children:(0,o.n)(l.duration_ms)})}}},29481:(e,l,s)=>{s.r(l),s.d(l,{default:()=>U});var i=s(23072),t=s(89379),n=s(9950),a=s(30797),r=s(89891),d=s(28472),o=s(44414);const c=e=>{const{song:l,index:s}=e,i=(0,d.useAppDispatch)(),c=(0,d.useAppSelector)((e=>e.playlist.view)),u=(0,d.useAppSelector)((e=>e.playlist.canEdit)),p=(0,d.useAppSelector)((e=>e.playlist.playlist)),x=(0,n.useCallback)((()=>{i(r.iR.setTrackLikeState({id:l.track.id,saved:!l.saved}))}),[i,l.saved,l.track.id]);return(0,o.jsx)(a.Ay,{activable:!0,view:c,index:s,canEdit:u,song:l.track,saved:l.saved,playlist:p,addedAt:l.added_at,onToggleLike:x,context:{context_uri:null===p||void 0===p?void 0:p.uri,offset:{position:s}},fields:[a.jh.TitleWithCover,a.jh.Artists,a.jh.Album,a.jh.AddedAt,e=>(0,o.jsx)(a.jh.AddToLiked,(0,t.A)((0,t.A)({},e),{},{onLikeRefresh:x})),a.jh.Time,a.jh.Actions]})};var u=s(83390);const p=()=>{const e=(0,d.useAppSelector)((e=>e.playlist.view));return(0,o.jsx)(u.Ay,{view:e,fields:[u.eR.Index,u.eR.Title,u.eR.Artists,u.eR.Album,u.eR.DateAdded,u.eR.Space,u.eR.Time,u.eR.Space]})};var x=s(87094),h=s(41988),m=s(45259),v=s(53357),j=s(99650);const y=(0,n.memo)((e=>{var l,s;let{size:i=30}=e;const t=(0,d.useAppSelector)((e=>e.playlist.playlist)),a=(0,d.useAppSelector)((e=>{var l;return null===(l=e.spotify.state)||void 0===l?void 0:l.context.uri})),r=(0,n.useMemo)((()=>(null===t||void 0===t?void 0:t.uri)===a),[t,a]);return t&&null!==(l=t.tracks)&&void 0!==l&&l.total?(0,o.jsx)(j.N,{size:i,big:i>=30,isCurrent:r,image:null===t||void 0===t||null===(s=t.images[0])||void 0===s?void 0:s.url,context:{context_uri:null===t||void 0===t?void 0:t.uri}}):null}));var g=s(14024),f=s(33767),A=s(67818),b=s(47660),N=s(26359),k=s(16571);const w=e=>{let{id:l,size:s,onToggle:i}=e;const t=(0,d.useAppDispatch)(),{t:n}=(0,A.Bd)(["playlist"]),a=(0,d.useAppSelector)((e=>!!e.auth.user));return(0,o.jsx)(g.m,{title:n("Add to Your Library"),children:(0,o.jsx)("button",{onClick:()=>{if(!a)return t(N.e5.openLoginTooltip());b.D.followPlaylist(l).then((()=>i()))},children:(0,o.jsx)(f.CY,{height:s,width:s})})})},S=e=>{let{id:l,size:s,onToggle:i}=e;const{t:t}=(0,A.Bd)(),a=(0,d.useAppDispatch)(),r=(0,d.useAppSelector)((e=>!!e.auth.user)),c=(0,n.useCallback)((()=>{if(!r)return a(N.e5.openLoginTooltip());b.D.unfollowPlaylist(l).then((()=>i()))}),[a,l,i,r]);return(0,o.jsx)(g.m,{title:t("Remove from Your Library"),children:(0,o.jsx)("button",{onClick:c,children:(0,o.jsx)(f.j2,{height:s,width:s})})})},C=e=>{let{id:l}=e;const s=(0,d.useAppDispatch)(),i=(0,d.useAppSelector)((e=>e.yourLibrary.myPlaylists)),t=()=>{s(k.eO.fetchMyPlaylists())};return(0,n.useMemo)((()=>i.some((e=>e.id===l))),[i,l])?(0,o.jsx)(S,{size:32,id:l,onToggle:t}):(0,o.jsx)(w,{size:32,id:l,onToggle:t})};var T=s(25723);const L=["LIST","COMPACT"],R=()=>{var e;const l=(0,d.useAppDispatch)(),[s]=(0,A.Bd)(["order"]),i=(0,d.useAppSelector)((e=>e.auth.user)),t=(0,d.useAppSelector)((e=>e.playlist.view)),n=(0,d.useAppSelector)((e=>e.playlist.playlist)),a=(null===n||void 0===n||null===(e=n.owner)||void 0===e?void 0:e.id)===(null===i||void 0===i?void 0:i.id),c=L.map((e=>({key:e,label:s(e),onClick:()=>l(r.iR.setView({view:e}))})));return(0,o.jsx)("div",{className:"playlist-controls",children:(0,o.jsxs)(x.A,{justify:"space-between",align:"middle",children:[(0,o.jsx)(h.A,{children:(0,o.jsxs)(m.A,{align:"center",children:[(0,o.jsx)(y,{}),a?null:(0,o.jsx)("div",{className:"scale",style:{marginRight:10},children:(0,o.jsx)(C,{id:n.id})}),(0,o.jsx)(T.J,{playlist:n,trigger:["click"],onRefresh:()=>{l((0,r.M8)(n.id))},children:(0,o.jsx)("div",{children:(0,o.jsx)(g.m,{title:"".concat(s("More options for")," ").concat(null===n||void 0===n?void 0:n.name),children:(0,o.jsx)("div",{className:"scale",children:(0,o.jsx)(f.WJ,{})})})})})]})}),(0,o.jsx)(h.A,{children:(0,o.jsx)(m.A,{className:"mobile-hidden",children:(0,o.jsx)(g.m,{title:s("VIEW"),children:(0,o.jsx)(v.A,{placement:"bottomRight",menu:{items:c,selectedKeys:[t]},children:(0,o.jsx)("button",{className:"order-button",children:(0,o.jsxs)(m.A,{align:"center",children:[(0,o.jsx)("span",{children:s(t)}),"LIST"===t?(0,o.jsx)(f.m1,{}):(0,o.jsx)(f.b7,{})]})})})})})})]})})};var I=s(45406),P=s(89654),D=s(32367);const M=(0,n.memo)((e=>{let{song:l}=e;const s=(0,d.useAppDispatch)(),[i]=(0,A.Bd)(["playlist"]),t=(0,d.useAppSelector)((e=>e.playlist.playlist));return(0,o.jsx)("button",{onClick:()=>{if(t)return D.S.addPlaylistItems(t.id,[l.uri],t.snapshot_id).then((()=>{P.Ay.success(i("Added to playlist")),s(k.eO.fetchMyPlaylists()),s(r.iR.refreshPlaylist(t.id)),s(r.iR.refreshTracks(t.id)),s(r.iR.removeTrackFromRecommendations({id:l.id}))}))},className:"transparent-button",children:i("Add")})})),_=e=>{const{song:l}=e,s=(0,d.useAppSelector)((e=>e.playlist.recommedations)),i=(0,n.useMemo)((()=>{const e=s.findIndex((e=>e.uri===l.uri));return s.slice(e).map((e=>e.uri))}),[s,l.uri]);return(0,o.jsx)(a.Ay,{view:"LIST",song:l,size:"small",context:{uris:i},fields:[a.jh.ClickeableCover,a.jh.Title,a.jh.Album,()=>(0,o.jsx)("div",{className:"text-right",style:{flex:3,marginRight:15},children:(0,o.jsx)(M,{song:l})})]})},z=(0,n.memo)((()=>{var e;const l=(0,d.useAppSelector)((e=>e.playlist.playlist)),s=(0,d.useAppSelector)((e=>e.playlist.recommedations));return l&&s.length?(0,o.jsxs)("div",{className:"playlist-recommendations",children:[(0,o.jsx)("h1",{className:"playlist-header",children:"Recommended"}),(0,o.jsx)("span",{children:null!==(e=l.tracks)&&void 0!==e&&e.total?"Based on what's in this playlist":"Based on your listening"}),(0,o.jsx)("div",{style:{margin:5,marginTop:10},children:s.slice(0,10).map((e=>(0,o.jsx)(_,{song:e},e.id)))})]}):null}));var E=s(50411),B=s(50416);const G=(0,n.memo)((e=>{var l,s;let{color:t}=e;const n=(0,d.useAppDispatch)(),a=(0,d.useAppSelector)((e=>e.playlist.tracks)),u=(0,d.useAppSelector)((e=>e.playlist.canEdit)),x=(0,d.useAppSelector)((e=>e.playlist.playlist)),h=!(null===x||void 0===x||null===(l=x.tracks)||void 0===l||!l.total);return(0,o.jsxs)("div",{className:"playlist-list",style:{maxHeight:323,background:"linear-gradient(".concat(t," -50%, ").concat(E.yi," 90%)")},children:[(0,o.jsx)(R,{}),h?(0,o.jsx)("div",{className:"playlist-table",children:(0,o.jsx)(p,{})}):(0,o.jsx)(i.A,{}),(0,o.jsx)(B.A,{loader:null,scrollThreshold:.5,dataLength:a.length,next:()=>{n(r.iR.getNextTracks())},hasMore:a.length<(null===x||void 0===x||null===(s=x.tracks)||void 0===s?void 0:s.total),children:h?(0,o.jsx)("div",{style:{paddingBottom:30},children:u?(0,o.jsx)("div",{children:(0,o.jsx)(I.A,{nodeSelector:"button",lineClassName:"drag-line",onDragEnd:(e,l)=>{D.S.reorderPlaylistItems(null===x||void 0===x?void 0:x.id,[a[e].track.uri],e,l,1,null===x||void 0===x?void 0:x.snapshot_id).then((()=>{n(r.iR.reorderTracks({from:e,to:l}))}))},children:a.map(((e,l)=>(0,o.jsx)(c,{song:e,index:l},"".concat(e.added_at,"-").concat(e.track.id))))})}):(0,o.jsx)("div",{children:a.map(((e,l)=>(0,o.jsx)(c,{song:e,index:l},"".concat(e.added_at,"-").concat(e.track.id))))})}):null}),(0,o.jsx)(z,{})]})}));var Z=s(92994),H=s(86150),V=s(88476),X=s(87259),J=s(57509);const W=e=>{var l,s,i,t,a,r,c;let{container:u,color:v,sectionContainer:j}=e;const{t:g}=(0,A.Bd)(["playlist"]),f=(0,d.useAppDispatch)(),b=(0,d.useAppSelector)((e=>e.auth.user)),k=(0,d.useAppSelector)((e=>e.playlist.user)),w=(0,d.useAppSelector)((e=>e.playlist.playlist)),S=(0,d.useAppSelector)((e=>e.playlist.tracks)),C=(0,n.useMemo)((()=>(0,J.w)(S.map((e=>e.track)))),[S]),T=(null===b||void 0===b?void 0:b.id)===(null===k||void 0===k?void 0:k.id),[L,R]=(0,n.useState)(0),[I,P]=(0,n.useState)(!1),[D,M]=(0,n.useState)(!1),_=(0,d.useAppSelector)(N.Nl),z=(0,d.useAppSelector)((e=>e.ui.libraryCollapsed));return(0,n.useEffect)((()=>{const e=u.current,l=()=>{e&&(P(e.scrollTop>260),M(e.scrollTop>320))};return null===e||void 0===e||e.addEventListener("scroll",l),()=>{window.onresize=null,null===e||void 0===e||e.removeEventListener("scroll",l)}}),[u]),(0,n.useEffect)((()=>{const e=null===j||void 0===j?void 0:j.current;if(e){const l=new ResizeObserver((e=>{R(e[0].contentRect.width)}));return l.observe(e),()=>e&&l.unobserve(e)}}),[j,z,_]),(0,o.jsxs)("div",{style:{overflow:"auto",position:"relative",background:"linear-gradient(180deg, transparent 0px, ".concat(v,' 100%), url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=")')},children:[(0,o.jsx)("div",{className:"nav-header ".concat(I?"active":""),style:{minHeight:36,width:L,backgroundColor:I?(0,V.A)(v).darken(10).toRgbString():"transparent"},children:(0,o.jsxs)("div",{className:"nav-header-content",style:{opacity:I?1:0},children:[(0,o.jsxs)(m.A,{children:[(0,o.jsx)(y,{size:20}),(0,o.jsx)("h1",{className:"nav-header-playlist-title",children:null===w||void 0===w?void 0:w.name})]}),(0,o.jsx)("div",{style:{padding:"0px 20px"},className:"nav-bar-header-table-container ".concat(D?"active":""),children:(0,o.jsx)(p,{})})]})}),(0,o.jsx)("div",{style:{padding:30,paddingTop:30},children:(0,o.jsxs)(x.A,{gutter:[24,24],align:"middle",children:[(0,o.jsx)(h.A,{xs:24,sm:6,lg:5,children:(0,o.jsxs)("div",{children:[T?(0,o.jsx)("div",{className:"playlist-img-overlay",children:(0,o.jsx)("div",{className:"playlist-img-overlay-container",children:(0,o.jsx)("button",{type:"button","aria-haspopup":"true",onClick:()=>f(H.F.setPlaylist({playlist:w})),children:(0,o.jsxs)("div",{className:"icon",children:[(0,o.jsx)("svg",{"data-encore-id":"icon",role:"img",height:50,width:50,"aria-hidden":"true",viewBox:"0 0 24 24",style:{margin:"0 auto"},children:(0,o.jsx)("path",{d:"M17.318 1.975a3.329 3.329 0 1 1 4.707 4.707L8.451 20.256c-.49.49-1.082.867-1.735 1.103L2.34 22.94a1 1 0 0 1-1.28-1.28l1.581-4.376a4.726 4.726 0 0 1 1.103-1.735L17.318 1.975zm3.293 1.414a1.329 1.329 0 0 0-1.88 0L5.159 16.963c-.283.283-.5.624-.636 1l-.857 2.372 2.371-.857a2.726 2.726 0 0 0 1.001-.636L20.611 5.268a1.329 1.329 0 0 0 0-1.879z"})}),(0,o.jsx)("span",{"data-encore-id":"text",children:"Choose photo"})]})})})}):null,(0,o.jsx)("img",{src:null!==w&&void 0!==w&&w.images&&null!==w&&void 0!==w&&w.images.length?null===w||void 0===w?void 0:w.images[0].url:E.Dq,alt:"",className:"playlist-img"})]})}),(0,o.jsx)(h.A,{xs:24,sm:18,lg:19,children:(0,o.jsxs)(x.A,{justify:"space-between",children:[(0,o.jsxs)(h.A,{span:24,children:[(0,o.jsx)("p",{className:"text-white",children:g(null!==w&&void 0!==w&&w.public?"Playlist":"Private Playlist")}),(0,o.jsxs)("div",{className:T?"pointer":"",onClick:()=>{T&&f(H.F.setPlaylist({playlist:w}))},children:[(0,o.jsx)("h1",{className:"playlist-title",children:null===w||void 0===w?void 0:w.name}),(0,o.jsx)("p",{className:"playlist-description",children:(0,X.dY)(w)})]})]}),(0,o.jsx)(h.A,{span:24,children:(0,o.jsxs)(m.A,{className:"owner",children:[null!==k&&void 0!==k&&null!==(l=k.images)&&void 0!==l&&l.length?(0,o.jsx)(Z.N_,{to:"/users/".concat(k.id),children:(0,o.jsx)("img",{className:"playlist-avatar",id:"user-avatar",alt:"User Avatar",src:null!==k&&void 0!==k&&k.images&&k.images.length?k.images[0].url:E.Xm})}):null,(0,o.jsxs)("h3",{className:"text-sm font-semibold text-white",children:[k?"Spotify"===(null===k||void 0===k?void 0:k.display_name)?(0,o.jsx)("span",{className:"link-text",children:null===k||void 0===k?void 0:k.display_name}):(0,o.jsx)(Z.N_,{to:"/",className:"link-text",children:null===k||void 0===k?void 0:k.display_name}):""," ",(0,o.jsxs)("span",{className:"songs-number",children:[null!==w&&void 0!==w&&null!==(s=w.followers)&&void 0!==s&&s.total?" \u2022 ".concat(null===w||void 0===w||null===(i=w.followers)||void 0===i?void 0:i.total," ").concat(g("saves")):" "," ",null!==w&&void 0!==w&&null!==(t=w.tracks)&&void 0!==t&&t.total?" \u2022 ".concat(null===w||void 0===w||null===(a=w.tracks)||void 0===a?void 0:a.total," ").concat(g(1===(null===w||void 0===w||null===(r=w.tracks)||void 0===r?void 0:r.total)?"song":"songs")):" ",null!==w&&void 0!==w&&null!==(c=w.tracks)&&void 0!==c&&c.total?" \u2022 ".concat(C):" "]})]})]})})]})})]})})]})};var Y=s(21812);const F=e=>{const l=(0,d.useAppDispatch)(),s=(0,n.useRef)(null),{playlistId:i}=(0,Z.g)(),[t,a]=(0,n.useState)(E.yi),c=(0,d.useAppSelector)((e=>e.playlist.playlist));return(0,n.useEffect)((()=>{var e;c&&null!==(e=c.images)&&void 0!==e&&e.length&&(0,Y.W)(null===c||void 0===c?void 0:c.images[0].url).then((e=>{let l=(0,V.A)(e);for(;l.isLight();)l=l.darken(10);a(l.toHexString())}))}),[c]),(0,n.useEffect)((()=>(i&&l(r.iR.fetchPlaylist(i)),()=>{l(r.iR.setPlaylist({playlist:null}))})),[l,i]),c?(0,o.jsxs)("div",{className:"Playlist-section",ref:s,children:[(0,o.jsx)(W,{color:t,container:e.container,sectionContainer:s}),(0,o.jsx)(G,{color:t})]}):null};F.displayName="PlaylistView";const U=F},87259:(e,l,s)=>{s.d(l,{Mx:()=>n,Ui:()=>i,dY:()=>t});const i=e=>"playlist"===e.type?t(e):"album"===e.type?n(e):"",t=e=>"playlist"===e.type?(e=>{const l=document.createElement("div");return l.innerHTML=e,l.textContent||l.innerText||""})(e.description||""):"",n=e=>{if("album"===e.type){const l=e.release_date.split("-")[0],s="album"===e.album_type?"Album":"Single";return"".concat(l," \u2022 ").concat(s)}return""}},57509:(e,l,s)=>{s.d(l,{w:()=>i});const i=e=>{const l=e.reduce(((e,l)=>e+l.duration_ms),0),s=Math.floor(l/6e4),i=Math.floor(l%6e4/1e3);return"".concat(s," min ").concat(i," sec")}}}]);