"use strict";(self.webpackChunkpersonal_music_player=self.webpackChunkpersonal_music_player||[]).push([[116],{30797:(e,s,t)=>{t.d(s,{Ay:()=>N,jh:()=>C});var l=t(89379),i=t(22748),n=t(13417),r=t(9950),a=t(33767),c=t(73028),d=t(17858),o=t(67818),u=t(28472),x=t(92994),p=t(53455),m=t(23726),h=t(28504),j=t(2287),v=t(22567),g=t(50411),y=t(26359),f=t(44414);const b=e=>e.slice(0,3).map(((s,t)=>(0,f.jsxs)("span",{children:[(0,f.jsx)(m.k,{artist:s,trigger:["contextMenu"],children:(0,f.jsx)(x.N_,{to:"/artist/".concat(s.id),style:{cursor:"pointer"},children:s.name},s.id)}),t<e.slice(0,3).length-1?", ":""]},s.id))),A=e=>{var s,t,l,i,n;let{song:r,isList:a}=e;if(!a)return null;return(null===(s=((null===r||void 0===r||null===(t=r.album)||void 0===t?void 0:t.images)||[])[0])||void 0===s?void 0:s.url)?(0,f.jsx)("img",{alt:"song cover",src:(null===(l=r.album)||void 0===l||null===(i=l.images)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.url)||"/images/playlist.png",className:"w-10 h-10 mr-4 rounded-md"}):null},k=e=>{let{index:s,isCurrent:t,isPlaying:l,onClick:i}=e;return(0,f.jsxs)("div",{style:{flex:1},className:"mobile-hidden",children:[(0,f.jsx)("p",{className:"song-details-index",children:t&&l?(0,f.jsx)("img",{alt:"equaliser",style:{height:10,margin:"0 auto"},src:g.GD}):(0,f.jsx)("span",{style:{margin:"0 auto"},children:s+1})}),(0,f.jsx)("button",{className:"song-details-play",onClick:i,children:t&&l?(0,f.jsx)(a.vR,{}):(0,f.jsx)(a.jG,{})})]})},N=e=>{var s;const{size:t="normal"}=e,{view:i,song:n,index:a,context:d,artist:o,playlist:x,canEdit:m,fields:h,album:j}=e,g=(0,v.A)(),b=(0,u.useAppDispatch)(),A=(0,u.useAppSelector)((e=>!!e.auth.user)),N=(0,u.useAppSelector)((e=>{var s;return!(null===(s=e.spotify.state)||void 0===s||!s.paused)})),C=(0,u.useAppSelector)((e=>{var s;return null===(s=e.spotify.state)||void 0===s?void 0:s.track_window.current_track}),((e,s)=>(null===e||void 0===e?void 0:e.id)===(null===s||void 0===s?void 0:s.id))),S=(0,r.useMemo)((()=>(null===C||void 0===C?void 0:C.uri)===n.uri),[C,n]),w="LIST"===(g?"LIST":i),D=(0,r.useCallback)((()=>A?S&&N?p.D.pausePlayback():S?p.D.startPlayback():p.D.startPlayback(d):b(y.e5.openLoginModal(n.album.images[0].url))),[A,S,N,d,b,null===(s=n.album)||void 0===s?void 0:s.images]);return(0,f.jsx)(c.C,{track:n,album:j,artist:o,canEdit:m,playlist:x,trigger:["contextMenu"],saved:e.onToggleLike?e.saved:void 0,onSavedToggle:e.onToggleLike?e.onToggleLike:void 0,children:(0,f.jsx)("button",{onClick:g?D:void 0,onDoubleClick:g?void 0:D,className:"flex flex-col w-full hover:bg-spotify-gray-lightest items-center ".concat("normal"===t?"p-2":""," rounded-lg ").concat(e.activable?"activable-song":""),children:(0,f.jsx)("div",{className:"song-details flex flex-row items-center w-full",children:(0,f.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[void 0!==a?(0,f.jsx)(k,{index:a,isCurrent:S,isPlaying:N,onClick:D}):null,h.map(((s,t)=>(0,f.jsx)(s,(0,l.A)({isList:w,onPlay:D,isCurrent:S,isPlaying:N},e),t)))]})})})},n.id)},C={Title:e=>{const{song:s,isList:t,isCurrent:l}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"flex flex-col",style:{flex:8},children:(0,f.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,f.jsx)("div",{className:"flex flex-row items-center",children:(0,f.jsxs)("p",{className:"title text-left ".concat(l?"active":""),children:[(0,f.jsx)("span",{children:s.name})," ",s.explicit&&!t?(0,f.jsx)("span",{className:"explicit",children:"E"}):null]})}),t?(0,f.jsxs)("p",{className:"text-left artist mobile-hidden",children:[s.explicit?(0,f.jsx)("span",{className:"explicit",children:"E"}):null,b(s.artists)]}):null]})})})})},ClickeableCover:e=>{var s,t;const{song:l,onPlay:i,isCurrent:n,isPlaying:r}=e,c=(0,f.jsx)("button",{className:"image-button",onClick:i,children:r&&n?(0,f.jsx)(a.vR,{}):(0,f.jsx)(a.jG,{})}),d=null===(s=((null===l||void 0===l||null===(t=l.album)||void 0===t?void 0:t.images)||[])[0])||void 0===s?void 0:s.url;return d?(0,f.jsx)("div",{className:"image p-2 h-full items-center",children:(0,f.jsxs)("div",{style:{position:"relative"},children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:d,alt:l.album.name,className:"rounded-md",style:{width:40,height:40}})}),c]})}):null},TitleWithCover:e=>{const{song:s,isList:t,isCurrent:i}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"flex flex-col",style:{flex:8},children:(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,f.jsx)(A,(0,l.A)({},e)),(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,f.jsx)("div",{className:"flex flex-row items-center",children:(0,f.jsxs)("p",{className:"title text-left ".concat(i?"active":""),children:[(0,f.jsx)("span",{children:s.name})," ",s.explicit&&!t?(0,f.jsx)("span",{className:"explicit",children:"E"}):null]})}),t?(0,f.jsxs)("p",{className:"text-left artist mobile-hidden",children:[s.explicit?(0,f.jsx)("span",{className:"explicit",children:"E"}):null,(0,f.jsx)("div",{children:b(s.artists)})]}):null]})]})})})},Artists:e=>{let{song:s,isList:t}=e;return t?null:(0,f.jsx)("p",{className:"text-left tablet-hidden",style:{flex:5},children:b(s.artists)})},Cover:A,Album:e=>{let{song:s}=e;const t=(0,x.Zp)(),l=(0,u.useAppDispatch)(),i=(0,u.useAppSelector)((e=>!!e.auth.user)),n=(0,r.useCallback)((e=>{if(e&&e.stopPropagation(),e&&e.preventDefault(),!i)return l(y.e5.openLoginModal(s.album.images[0].url));t("/album/".concat(s.album.id))}),[i,t,s.album.id,s.album.images,l]);return(0,f.jsx)("p",{className:"text-left tablet-hidden",style:{flex:5},children:(0,f.jsx)(x.N_,{to:"/album/".concat(s.album.id),onClick:n,children:s.album.name})})},AddedAt:e=>{let{addedAt:s}=e;const t=(0,u.useAppSelector)((e=>e.language.language));return s?(0,f.jsx)("p",{className:"text-left tablet-hidden",style:{flex:3},children:(0,f.jsx)(n.A,{date:new Date(s),locale:"es"===t?"es-AR":void 0})}):null},AddToLiked:e=>{let{song:s,saved:t,onLikeRefresh:l}=e;const i=(0,u.useAppDispatch)(),n=(0,u.useAppSelector)((e=>{var s;return null===(s=e.spotify.state)||void 0===s?void 0:s.track_window.current_track.id}));return(0,f.jsx)("p",{className:"text-right tablet-hidden",style:{flex:1,display:"flex",justifyContent:"end"},children:(0,f.jsx)(h.$,{size:18,id:s.id,isSaved:!!t,onToggle:()=>{l&&l(s.id),n===s.id&&i(j.gj.setLiked({liked:!t}))}})})},Actions:e=>{let{song:s}=e;const[t]=(0,o.Bd)(["order"]);return(0,f.jsx)("p",{className:"text-right actions tablet-hidden",style:{flex:1,display:"flex",justifyContent:"center"},children:(0,f.jsx)(c.C,{track:s,trigger:["click"],children:(0,f.jsx)("div",{children:(0,f.jsx)(i.A,{title:"".concat(t("More options for")," ").concat(s.name),children:(0,f.jsx)("div",{children:(0,f.jsx)(a.ZB,{})})})})})})},Time:e=>{let{song:s}=e;return(0,f.jsx)("p",{className:"text-right ",style:{flex:1,display:"flex",justifyContent:"end"},children:(0,d.n)(s.duration_ms)})}}},85116:(e,s,t)=>{t.r(s),t.d(s,{SearchPage:()=>R,default:()=>G});var l=t(89379),i=t(9950),n=t(87094),r=t(41988),a=t(30797),c=t(1200),d=t(28472),o=t(44414);const u=e=>{const{song:s}=e,t=(0,d.useAppDispatch)(),n=(0,d.useAppSelector)((e=>e.search.songs)),r=(0,i.useCallback)((()=>{t(c.OG.setSavedStateForTrack({id:s.id,saved:!s.saved}))}),[t,s.saved,s.id]),u=(0,i.useMemo)((()=>{const e=n.findIndex((e=>e.uri===s.uri));return n.slice(e).map((e=>e.uri))}),[n,s.uri]);return(0,o.jsx)(a.Ay,{activable:!0,view:"LIST",song:s,size:"small",context:{uris:u},saved:s.saved,onToggleLike:r,fields:[a.jh.ClickeableCover,a.jh.Title,e=>(0,o.jsx)(a.jh.AddToLiked,(0,l.A)((0,l.A)({},e),{},{onLikeRefresh:r})),a.jh.Time,a.jh.Actions]})};var x=t(67818);const p=()=>{const{t:e}=(0,x.Bd)(["search"]),s=(0,d.useAppSelector)((e=>e.search.songs));return s&&0!==s.length?(0,o.jsxs)("div",{className:"search-songs-container",children:[(0,o.jsx)("h1",{className:"section-title",children:e("Songs")}),(0,o.jsx)("div",{children:s.map(((e,s)=>(0,o.jsx)(u,{song:e,index:s},e.id)))})]}):null};var m=t(99650),h=t(46268),j=t(73028),v=t(23726),g=t(25723),y=t(87259),f=t(53455),b=t(92994),A=t(60145),k=t(50411);const N=(0,i.memo)((e=>{let{link:s,image:t,title:l,description:i,context:n,rounded:r,onClick:a,uri:c}=e;const u=(0,b.Zp)(),x=(0,d.useAppSelector)((e=>{var s;return null===(s=e.spotify.state)||void 0===s?void 0:s.paused})),p=(0,d.useAppSelector)((e=>{var s,t;return null===(s=e.spotify.state)||void 0===s||null===(t=s.context)||void 0===t?void 0:t.uri}))===c;return(0,o.jsxs)("div",{style:{cursor:"pointer"},onDoubleClick:()=>{f.D.startPlayback(n)},onClick:()=>{a&&a(),u(s)},className:"playlist-card relative rounded-lg overflow-hidden  hover:bg-spotify-gray-lightest transition",children:[(0,o.jsx)("div",{style:{position:"relative"},className:"md:aspect-w-1 md:aspect-h-1/2 lg:aspect-w-1 lg:aspect-h-3/4 xl:aspect-w-1 xl:aspect-h-4/5 p-4",children:(0,o.jsx)("img",{alt:l,src:t,className:"".concat(r?"rounded":"")})}),(0,o.jsxs)("div",{className:"playlist-card-info",children:[(0,o.jsx)("h3",{className:"text-md font-semibold text-white",children:l}),(0,o.jsx)("p",{children:i})]}),(0,o.jsx)("div",{className:"circle-play-div transition translate-y-1/4 ".concat(p&&!x?"active":""),children:(0,o.jsx)(m.N,{image:t,isCurrent:p,context:n})})]})})),C=(0,i.memo)((e=>{let{item:s}=e;const{t:t}=(0,x.Bd)(["search"]),l=(0,d.useAppSelector)((e=>!!e.auth.user));return(0,o.jsx)(j.C,{trigger:["contextMenu"],track:s,children:(0,o.jsx)("div",{children:(0,o.jsx)(N,{uri:s.uri,title:s.name,context:{uris:[s.uri]},image:s.album.images[0].url,link:l?"/album/".concat(s.album.id):"/",description:(0,o.jsxs)("p",{style:{gap:4,display:"flex",alignItems:"center"},children:[s.explicit?(0,o.jsx)("span",{className:"explicit",children:"E"}):null,(0,o.jsx)("span",{children:t("Song")}),(0,o.jsx)("span",{children:" \u2022 "}),s.artists.slice(0,3).map(((e,t)=>(0,o.jsxs)("span",{children:[(0,o.jsx)("span",{style:{color:"#fff"},children:e.name}),t<s.artists.slice(0,3).length-1?", ":""]})))]},s.id)})})})})),S=e=>{let{item:s}=e;const t=(0,d.useAppDispatch)();return(0,o.jsx)(g.J,{playlist:s,trigger:["contextMenu"],children:(0,o.jsx)("div",{children:(0,o.jsx)(N,{uri:s.uri,title:s.name,link:"/playlist/".concat(s.id),context:{context_uri:s.uri},description:(0,y.dY)(s),onClick:()=>t(A.Q.setItem(s)),image:s.images&&s.images.length?s.images[0].url:k.Dq})})})},w=e=>{var s;let{item:t}=e;const l=(0,d.useAppDispatch)(),[i]=(0,x.Bd)(["artist"]);return(0,o.jsx)(v.k,{artist:t,trigger:["contextMenu"],children:(0,o.jsx)("div",{children:(0,o.jsx)(N,{rounded:!0,uri:t.uri,title:t.name,description:i("Artist"),image:null===(s=t.images[0])||void 0===s?void 0:s.url,link:"/artist/".concat(t.id),context:{context_uri:t.uri},onClick:()=>l(A.Q.setItem(t))})})})},D=e=>{var s;let{item:t}=e;const l=(0,d.useAppDispatch)(),{t:i}=(0,x.Bd)(["search"]),n=(0,d.useAppSelector)((e=>!!e.auth.user));return(0,o.jsx)(h.I,{album:t,trigger:["contextMenu"],children:(0,o.jsx)("div",{children:(0,o.jsx)(N,{uri:t.uri,title:t.name,link:n?"/album/".concat(t.id):"/",image:null===(s=t.images[0])||void 0===s?void 0:s.url,context:{context_uri:t.uri},onClick:()=>l(A.Q.setItem(t)),description:(0,o.jsxs)("p",{style:{gap:4,display:"flex",alignItems:"center"},children:[(0,o.jsx)("span",{children:i("Album")}),(0,o.jsx)("span",{children:" \u2022 "}),t.artists.slice(0,3).map(((e,s)=>(0,o.jsxs)("span",{children:[(0,o.jsx)("span",{style:{color:"#fff"},children:e.name}),s<t.artists.slice(0,3).length-1?", ":""]})))]},t.id)})})})},L=()=>{const e=(0,d.useAppSelector)((e=>e.search.top));return e?"track"===e.type?(0,o.jsx)(C,{item:e}):"playlist"===e.type?(0,o.jsx)(S,{item:e}):"artist"===e.type?(0,o.jsx)(w,{item:e}):"album"===e.type?(0,o.jsx)(D,{item:e}):null:null},T=()=>{const{t:e}=(0,x.Bd)(["search"]);return(0,o.jsxs)("div",{className:"top-result-container",children:[(0,o.jsx)("h1",{className:"section-title",children:e("Top Result")}),(0,o.jsx)(L,{})]})};var _=t(28739);const I=(0,i.memo)((()=>{const e=(0,d.useAppDispatch)(),[s]=(0,x.Bd)(["search"]),t=(0,d.useAppSelector)((e=>e.search.albums));return t&&t.length?(0,o.jsx)("div",{children:(0,o.jsx)("div",{children:(0,o.jsx)(_.Sb,{items:t,title:s("Albums"),onItemClick:s=>{e(A.Q.setItem(s))}})})}):null})),B=(0,i.memo)((()=>{const e=(0,d.useAppDispatch)(),[s]=(0,x.Bd)(["search"]),t=(0,d.useAppSelector)((e=>e.search.artists));return t&&t.length?(0,o.jsx)("div",{children:(0,o.jsx)("div",{children:(0,o.jsx)(_.Sb,{items:t,title:s("Artists"),onItemClick:s=>{e(A.Q.setItem(s))}})})}):null})),M=(0,i.memo)((()=>{const e=(0,d.useAppDispatch)(),[s]=(0,x.Bd)(["search"]),t=(0,d.useAppSelector)((e=>e.search.playlists));return t&&t.length?(0,o.jsx)("div",{children:(0,o.jsx)("div",{children:(0,o.jsx)(_.Sb,{items:t,title:s("Playlists"),getDescription:e=>{var s;return"playlist"===e.type?"By ".concat(null===(s=e.owner)||void 0===s?void 0:s.display_name):""},onItemClick:s=>{e(A.Q.setItem(s))}})})}):null})),P=e=>(0,o.jsxs)(n.A,{gutter:[16,16],style:{paddingBottom:20},children:[(0,o.jsx)(r.A,{span:24,lg:9,children:(0,o.jsx)(T,{})}),(0,o.jsx)(r.A,{span:24,lg:15,children:(0,o.jsx)(p,{})}),(0,o.jsx)(r.A,{span:24,children:(0,o.jsx)(B,{})}),(0,o.jsx)(r.A,{span:24,children:(0,o.jsx)(I,{})}),(0,o.jsx)(r.A,{span:24,children:(0,o.jsx)(M,{})})]});var E=t(40327);const R=(0,i.memo)((e=>{const s=(0,d.useAppDispatch)(),t=(0,b.g)(),n=(0,d.useAppSelector)((e=>e.search.top)),r=(0,d.useAppSelector)((e=>e.search.loading));return(0,i.useEffect)((()=>{s(c.OG.setSection("ALL"))}),[s]),(0,i.useEffect)((()=>{t.search&&s(c.OG.fetchSearch(t.search))}),[s,t.search]),r?null:n?(0,o.jsx)(P,(0,l.A)({},e)):(0,o.jsx)(E.A,{searchValue:t.search||""})})),G=R},40327:(e,s,t)=>{t.d(s,{A:()=>c});var l=t(9950),i=t(92994),n=t(67818),r=t(44414);const a=(0,l.memo)((e=>{const s=(0,i.Zp)(),[t]=(0,n.Bd)(["search"]);return(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h3",{children:t("No results")}),(0,r.jsxs)("p",{children:[t("No results where found for"),' "',e.searchValue,'".']}),(0,r.jsx)("button",{onClick:()=>s("/"),children:t("Home")})]})})}));a.displayName="NoSearchResults";const c=a},87259:(e,s,t)=>{t.d(s,{Mx:()=>n,Ui:()=>l,dY:()=>i});const l=e=>"playlist"===e.type?i(e):"album"===e.type?n(e):"",i=e=>"playlist"===e.type?(e=>{const s=document.createElement("div");return s.innerHTML=e,s.textContent||s.innerText||""})(e.description||""):"",n=e=>{if("album"===e.type){const s=e.release_date.split("-")[0],t="album"===e.album_type?"Album":"Single";return"".concat(s," \u2022 ").concat(t)}return""}}}]);