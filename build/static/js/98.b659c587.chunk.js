"use strict";(self.webpackChunkpersonal_music_player=self.webpackChunkpersonal_music_player||[]).push([[98],{30797:(e,s,t)=>{t.d(s,{Ay:()=>k,jh:()=>S});var i=t(89379),l=t(22748),n=t(13417),r=t(9950),a=t(33767),c=t(73028),o=t(17858),d=t(67818),u=t(28472),x=t(92994),p=t(53455),m=t(23726),v=t(28504),h=t(2287),j=t(22567),g=t(50411),f=t(26359),y=t(44414);const A=e=>e.slice(0,3).map(((s,t)=>(0,y.jsxs)("span",{children:[(0,y.jsx)(m.k,{artist:s,trigger:["contextMenu"],children:(0,y.jsx)(x.N_,{to:"/artist/".concat(s.id),style:{cursor:"pointer"},children:s.name},s.id)}),t<e.slice(0,3).length-1?", ":""]},s.id))),b=e=>{var s,t,i,l,n;let{song:r,isList:a}=e;if(!a)return null;return(null===(s=((null===r||void 0===r||null===(t=r.album)||void 0===t?void 0:t.images)||[])[0])||void 0===s?void 0:s.url)?(0,y.jsx)("img",{alt:"song cover",src:(null===(i=r.album)||void 0===i||null===(l=i.images)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.url)||"/images/playlist.png",className:"w-10 h-10 mr-4 rounded-md"}):null},N=e=>{let{index:s,isCurrent:t,isPlaying:i,onClick:l}=e;return(0,y.jsxs)("div",{style:{flex:1},className:"mobile-hidden",children:[(0,y.jsx)("p",{className:"song-details-index",children:t&&i?(0,y.jsx)("img",{alt:"equaliser",style:{height:10,margin:"0 auto"},src:g.GD}):(0,y.jsx)("span",{style:{margin:"0 auto"},children:s+1})}),(0,y.jsx)("button",{className:"song-details-play",onClick:l,children:t&&i?(0,y.jsx)(a.vR,{}):(0,y.jsx)(a.jG,{})})]})},k=e=>{var s;const{size:t="normal"}=e,{view:l,song:n,index:a,context:o,artist:d,playlist:x,canEdit:m,fields:v,album:h}=e,g=(0,j.A)(),A=(0,u.useAppDispatch)(),b=(0,u.useAppSelector)((e=>!!e.auth.user)),k=(0,u.useAppSelector)((e=>{var s;return!(null===(s=e.spotify.state)||void 0===s||!s.paused)})),S=(0,u.useAppSelector)((e=>{var s;return null===(s=e.spotify.state)||void 0===s?void 0:s.track_window.current_track}),((e,s)=>(null===e||void 0===e?void 0:e.id)===(null===s||void 0===s?void 0:s.id))),C=(0,r.useMemo)((()=>(null===S||void 0===S?void 0:S.uri)===n.uri),[S,n]),w="LIST"===(g?"LIST":l),L=(0,r.useCallback)((()=>b?C&&k?p.D.pausePlayback():C?p.D.startPlayback():p.D.startPlayback(o):A(f.e5.openLoginModal(n.album.images[0].url))),[b,C,k,o,A,null===(s=n.album)||void 0===s?void 0:s.images]);return(0,y.jsx)(c.C,{track:n,album:h,artist:d,canEdit:m,playlist:x,trigger:["contextMenu"],saved:e.onToggleLike?e.saved:void 0,onSavedToggle:e.onToggleLike?e.onToggleLike:void 0,children:(0,y.jsx)("button",{onClick:g?L:void 0,onDoubleClick:g?void 0:L,className:"flex flex-col w-full hover:bg-spotify-gray-lightest items-center ".concat("normal"===t?"p-2":""," rounded-lg ").concat(e.activable?"activable-song":""),children:(0,y.jsx)("div",{className:"song-details flex flex-row items-center w-full",children:(0,y.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[void 0!==a?(0,y.jsx)(N,{index:a,isCurrent:C,isPlaying:k,onClick:L}):null,v.map(((s,t)=>(0,y.jsx)(s,(0,i.A)({isList:w,onPlay:L,isCurrent:C,isPlaying:k},e),t)))]})})})},n.id)},S={Title:e=>{const{song:s,isList:t,isCurrent:i}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"flex flex-col",style:{flex:8},children:(0,y.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,y.jsx)("div",{className:"flex flex-row items-center",children:(0,y.jsxs)("p",{className:"title text-left ".concat(i?"active":""),children:[(0,y.jsx)("span",{children:s.name})," ",s.explicit&&!t?(0,y.jsx)("span",{className:"explicit",children:"E"}):null]})}),t?(0,y.jsxs)("p",{className:"text-left artist mobile-hidden",children:[s.explicit?(0,y.jsx)("span",{className:"explicit",children:"E"}):null,A(s.artists)]}):null]})})})})},ClickeableCover:e=>{var s,t;const{song:i,onPlay:l,isCurrent:n,isPlaying:r}=e,c=(0,y.jsx)("button",{className:"image-button",onClick:l,children:r&&n?(0,y.jsx)(a.vR,{}):(0,y.jsx)(a.jG,{})}),o=null===(s=((null===i||void 0===i||null===(t=i.album)||void 0===t?void 0:t.images)||[])[0])||void 0===s?void 0:s.url;return o?(0,y.jsx)("div",{className:"image p-2 h-full items-center",children:(0,y.jsxs)("div",{style:{position:"relative"},children:[(0,y.jsx)("div",{children:(0,y.jsx)("img",{src:o,alt:i.album.name,className:"rounded-md",style:{width:40,height:40}})}),c]})}):null},TitleWithCover:e=>{const{song:s,isList:t,isCurrent:l}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"flex flex-col",style:{flex:8},children:(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,y.jsx)(b,(0,i.A)({},e)),(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,y.jsx)("div",{className:"flex flex-row items-center",children:(0,y.jsxs)("p",{className:"title text-left ".concat(l?"active":""),children:[(0,y.jsx)("span",{children:s.name})," ",s.explicit&&!t?(0,y.jsx)("span",{className:"explicit",children:"E"}):null]})}),t?(0,y.jsxs)("p",{className:"text-left artist mobile-hidden",children:[s.explicit?(0,y.jsx)("span",{className:"explicit",children:"E"}):null,(0,y.jsx)("div",{children:A(s.artists)})]}):null]})]})})})},Artists:e=>{let{song:s,isList:t}=e;return t?null:(0,y.jsx)("p",{className:"text-left tablet-hidden",style:{flex:5},children:A(s.artists)})},Cover:b,Album:e=>{let{song:s}=e;const t=(0,x.Zp)(),i=(0,u.useAppDispatch)(),l=(0,u.useAppSelector)((e=>!!e.auth.user)),n=(0,r.useCallback)((e=>{if(e&&e.stopPropagation(),e&&e.preventDefault(),!l)return i(f.e5.openLoginModal(s.album.images[0].url));t("/album/".concat(s.album.id))}),[l,t,s.album.id,s.album.images,i]);return(0,y.jsx)("p",{className:"text-left tablet-hidden",style:{flex:5},children:(0,y.jsx)(x.N_,{to:"/album/".concat(s.album.id),onClick:n,children:s.album.name})})},AddedAt:e=>{let{addedAt:s}=e;const t=(0,u.useAppSelector)((e=>e.language.language));return s?(0,y.jsx)("p",{className:"text-left tablet-hidden",style:{flex:3},children:(0,y.jsx)(n.A,{date:new Date(s),locale:"es"===t?"es-AR":void 0})}):null},AddToLiked:e=>{let{song:s,saved:t,onLikeRefresh:i}=e;const l=(0,u.useAppDispatch)(),n=(0,u.useAppSelector)((e=>{var s;return null===(s=e.spotify.state)||void 0===s?void 0:s.track_window.current_track.id}));return(0,y.jsx)("p",{className:"text-right tablet-hidden",style:{flex:1,display:"flex",justifyContent:"end"},children:(0,y.jsx)(v.$,{size:18,id:s.id,isSaved:!!t,onToggle:()=>{i&&i(s.id),n===s.id&&l(h.gj.setLiked({liked:!t}))}})})},Actions:e=>{let{song:s}=e;const[t]=(0,d.Bd)(["order"]);return(0,y.jsx)("p",{className:"text-right actions tablet-hidden",style:{flex:1,display:"flex",justifyContent:"center"},children:(0,y.jsx)(c.C,{track:s,trigger:["click"],children:(0,y.jsx)("div",{children:(0,y.jsx)(l.A,{title:"".concat(t("More options for")," ").concat(s.name),children:(0,y.jsx)("div",{children:(0,y.jsx)(a.ZB,{})})})})})})},Time:e=>{let{song:s}=e;return(0,y.jsx)("p",{className:"text-right ",style:{flex:1,display:"flex",justifyContent:"end"},children:(0,o.n)(s.duration_ms)})}}},56098:(e,s,t)=>{t.r(s),t.d(s,{ArtistPage:()=>G,default:()=>H});var i=t(9950),l=t(88476),n=t(92994),r=t(21812),a=t(91742),c=t(28472),o=t(87094),d=t(41988),u=t(45259),x=t(22748),p=t(99650),m=t(44414);const v=(0,i.memo)((e=>{var s;let{size:t=30}=e;const l=(0,c.useAppSelector)((e=>e.artist.artist),((e,s)=>(null===e||void 0===e?void 0:e.id)===(null===s||void 0===s?void 0:s.id))),n=(0,c.useAppSelector)((e=>{var s;return null===(s=e.spotify.state)||void 0===s?void 0:s.context.uri})),r=(0,i.useMemo)((()=>(null===l||void 0===l?void 0:l.uri)===n),[l,n]);return(0,m.jsx)(p.N,{size:t,big:t>=30,isCurrent:r,image:null===l||void 0===l||null===(s=l.images[0])||void 0===s?void 0:s.url,context:{context_uri:null===l||void 0===l?void 0:l.uri}})}));var h=t(5048),j=t(33767),g=t(23726),f=t(67818);const y=()=>{const[e]=(0,f.Bd)(["order"]),s=(0,c.useAppSelector)((e=>e.artist.artist));return(0,m.jsx)("div",{className:"playlist-controls",children:(0,m.jsx)(o.A,{justify:"space-between",align:"middle",children:(0,m.jsx)(d.A,{children:(0,m.jsxs)(u.A,{align:"center",children:[(0,m.jsx)(v,{}),(0,m.jsx)("div",{style:{marginRight:10},children:(0,m.jsx)(h.j,{id:s.id})}),(0,m.jsx)(g.k,{artist:s,trigger:["click"],children:(0,m.jsx)("div",{children:(0,m.jsx)(x.A,{title:"".concat(e("More options for")," ").concat(null===s||void 0===s?void 0:s.name),children:(0,m.jsx)("div",{className:"scale",children:(0,m.jsx)(j.WJ,{})})})})})]})})})})};var A=t(28739);const b=(0,i.memo)((()=>{const[e]=(0,f.Bd)(["artist"]),s=(0,c.useAppSelector)((e=>e.artist.appearsOn));return(0,m.jsx)("div",{children:(0,m.jsx)("div",{children:(0,m.jsx)(A.Sb,{items:s,title:e("Appears on")})})})}));var N=t(5193),k=t(41397),S=t(87259);const C=(0,i.memo)((e=>{const[s]=(0,f.Bd)(["artist"]),{activeKey:t,setActiveKey:l}=e,n=(0,c.useAppSelector)((e=>e.artist.albums)),r=(0,c.useAppSelector)((e=>e.artist.singles)),a=(0,c.useAppSelector)((e=>e.artist.compilations)),o=(0,i.useMemo)((()=>{if(!n.length&&!r.length&&!a.length)return[];const e=["Popular releases"];return n.length&&e.push("Albums"),r.length&&e.push("Singles and EPs"),a.length&&e.push("Compilations"),e}),[n,r,a]);return(0,i.useEffect)((()=>{o.length&&l(o[0])}),[o]),o.length&&2!==o.length?(0,m.jsx)(u.A,{style:{margin:"0px 15px",marginBottom:15},children:o.map((e=>(0,m.jsx)(N.A,{text:s(e),active:t===e,onClick:()=>l(e)},e)))}):null})),w=(0,i.memo)((()=>{const[e]=(0,f.Bd)(["artist"]),s=(0,c.useAppSelector)((e=>e.artist.artist)),t=(0,c.useAppSelector)((e=>e.artist.albums)),l=(0,c.useAppSelector)((e=>e.artist.singles)),n=(0,c.useAppSelector)((e=>e.artist.compilations)),[r,a]=(0,i.useState)("Popular releases"),o=(0,i.useMemo)((()=>{switch(r){case"Albums":return t;case"Singles and EPs":return l;case"Compilations":return n;default:return(0,k.orderBy)([...t,...l,...n],"release_date","desc")}}),[r,t,l,n]);return(0,m.jsx)("div",{children:(0,m.jsx)("div",{children:(0,m.jsx)(A.Sb,{items:o,title:e("Discography"),getDescription:S.Mx,moreUrl:"/artist/".concat(s.id,"/discography"),chips:(0,m.jsx)(C,{activeKey:r,setActiveKey:a})})})})}));var L=t(89379),T=t(30797);const D=e=>{const{song:s,index:t}=e,l=(0,c.useAppDispatch)(),n=(0,c.useAppSelector)((e=>e.artist.artist)),r=(0,c.useAppSelector)((e=>e.artist.topTracks)),o=(0,i.useCallback)((()=>{l(a.DB.setTopSongLikeState({id:s.id,saved:!s.saved}))}),[l,s.saved,s.id]);return(0,m.jsx)(T.Ay,{activable:!0,song:s,index:t,view:"LIST",artist:n,saved:s.saved,onToggleLike:o,context:0===t?{context_uri:n.uri}:{uris:r.slice(t).map((e=>e.uri))},fields:[T.jh.TitleWithCover,e=>(0,m.jsx)(T.jh.AddToLiked,(0,L.A)((0,L.A)({},e),{},{onLikeRefresh:o})),T.jh.Time,T.jh.Actions]})},_=(0,i.memo)((()=>{const[e]=(0,f.Bd)(["artist"]),[s,t]=(0,i.useState)(!1),l=(0,c.useAppSelector)((e=>e.artist.topTracks)),n=(0,i.useMemo)((()=>s?l:l.slice(0,5)),[s,l]);return l.length?(0,m.jsxs)("div",{style:{margin:10},children:[(0,m.jsx)("h1",{className:"playlist-header",children:e("Popular")}),(0,m.jsx)(o.A,{children:(0,m.jsx)(d.A,{span:24,children:(0,m.jsx)("div",{children:n.map(((e,s)=>(0,m.jsx)(D,{song:e,index:s},e.uri)))})})}),(0,m.jsx)("button",{className:"showMore",onClick:()=>t((e=>!e)),children:(0,m.jsx)("span",{children:e(s?"Show less":"Show more")})})]}):null})),B=(0,i.memo)((()=>{const[e]=(0,f.Bd)(["artist"]),s=(0,c.useAppSelector)((e=>e.artist.otherArtists));return(0,m.jsx)("div",{children:(0,m.jsx)("div",{children:(0,m.jsx)(A.Sb,{items:s,title:e("Fans also like")})})})})),M=(0,i.memo)((e=>(0,m.jsx)("div",{className:"artist-page-content",style:{"--background-base":e.color},children:(0,m.jsxs)("div",{style:{margin:20,paddingTop:30,paddingBottom:30},children:[(0,m.jsx)(y,{}),(0,m.jsx)(_,{}),(0,m.jsx)(w,{}),(0,m.jsx)(B,{}),(0,m.jsx)(b,{})]})})));M.displayName="GenreContent";const P=M,E=()=>(0,m.jsx)("svg",{role:"img","aria-hidden":"true",viewBox:"0 0 24 24","data-encore-id":"icon",className:"Svg-sc-ytk21e-0 ZxtYq b0NcxAbHvRbqgs2S8QDg",children:(0,m.jsx)("path",{d:"M10.814.5a1.658 1.658 0 0 1 2.372 0l2.512 2.572 3.595-.043a1.658 1.658 0 0 1 1.678 1.678l-.043 3.595 2.572 2.512c.667.65.667 1.722 0 2.372l-2.572 2.512.043 3.595a1.658 1.658 0 0 1-1.678 1.678l-3.595-.043-2.512 2.572a1.658 1.658 0 0 1-2.372 0l-2.512-2.572-3.595.043a1.658 1.658 0 0 1-1.678-1.678l.043-3.595L.5 13.186a1.658 1.658 0 0 1 0-2.372l2.572-2.512-.043-3.595a1.658 1.658 0 0 1 1.678-1.678l3.595.043L10.814.5zm6.584 9.12a1 1 0 0 0-1.414-1.413l-6.011 6.01-1.894-1.893a1 1 0 0 0-1.414 1.414l3.308 3.308 7.425-7.425z"})}),I=(0,i.memo)((e=>{var s,t;const[l]=(0,f.Bd)(["artist"]),{container:n,color:r}=e,[a,o]=(0,i.useState)(0),d=(0,c.useAppSelector)((e=>e.artist.artist));return(0,i.useEffect)((()=>{const e=n.current,s=()=>{e&&o(e.scrollTop/100)};return null===e||void 0===e||e.addEventListener("scroll",s),()=>{null===e||void 0===e||e.removeEventListener("scroll",s)}}),[n]),(0,m.jsxs)("div",{className:"artist-page-header",style:{position:"relative"},children:[(0,m.jsx)("div",{className:"under-main-view",children:(0,m.jsxs)("div",{style:{"--scroll":a},children:[(0,m.jsx)("div",{className:"background",style:{backgroundImage:'url("'.concat(null===d||void 0===d||null===(s=d.images[0])||void 0===s?void 0:s.url,'")')}}),(0,m.jsx)("div",{className:"background-image",style:{backgroundImage:'url("'.concat(null===d||void 0===d||null===(t=d.images[0])||void 0===t?void 0:t.url,'")')}}),(0,m.jsx)("div",{className:"background-gradient",style:{"--bgColor":r}})]})}),(0,m.jsx)("div",{className:"text-section",children:(0,m.jsxs)("div",{className:"contentSpacing",children:[(0,m.jsx)("div",{}),(0,m.jsxs)("div",{className:"textContainer",children:[(0,m.jsxs)("span",{className:"verifyContainer",children:[(0,m.jsx)("div",{className:"verifyDiv"}),(0,m.jsx)(E,{}),(0,m.jsx)("span",{children:l("Verified Artist")})]}),(0,m.jsx)("span",{className:"artistName",children:(0,m.jsx)("h1",{children:null===d||void 0===d?void 0:d.name})}),(0,m.jsxs)("span",{className:"listeners",children:[null===d||void 0===d?void 0:d.followers.total," ",l("followers")]})]})]})})]})}));var z=t(54400);const R=(0,i.memo)((e=>{const s=(0,c.useAppSelector)((e=>e.artist.artist),((e,s)=>(null===e||void 0===e?void 0:e.id)===(null===s||void 0===s?void 0:s.id)));return(0,m.jsx)(z.z,(0,L.A)((0,L.A)({},e),{},{activeHeider:270,activeContentHeight:320,children:(0,m.jsxs)(u.A,{children:[(0,m.jsx)(v,{size:20}),(0,m.jsx)("h1",{className:"playlist-header",children:null===s||void 0===s?void 0:s.name})]})}))})),G=(0,i.memo)((e=>{const s=(0,c.useAppDispatch)(),[t,o]=(0,i.useState)("#535353"),d=(0,i.useRef)(null),u=(0,n.g)(),x=(0,c.useAppSelector)((e=>e.artist.artist));return(0,i.useEffect)((()=>(u.artistId&&(s((0,a.a_)(u.artistId)),s(a.DB.fetchOtherArtists(u.artistId))),()=>{s(a.DB.setArtist({artist:null}))})),[s,u.artistId]),(0,i.useEffect)((()=>{var e;x&&null!==(e=x.images)&&void 0!==e&&e.length&&(0,r.W)(x.images[0].url).then((e=>{o((0,l.A)(e).darken(20).toString())}))}),[x]),x?(0,m.jsxs)("div",{className:"artist-page",ref:d,children:[(0,m.jsx)(R,{color:t,container:e.container,sectionContainer:d}),(0,m.jsx)(I,{container:e.container,color:t}),(0,m.jsx)("div",{style:{marginTop:-20},children:(0,m.jsx)(P,{color:t})})]}):null})),H=G},87259:(e,s,t)=>{t.d(s,{Mx:()=>n,Ui:()=>i,dY:()=>l});const i=e=>"playlist"===e.type?l(e):"album"===e.type?n(e):"",l=e=>"playlist"===e.type?(e=>{const s=document.createElement("div");return s.innerHTML=e,s.textContent||s.innerText||""})(e.description||""):"",n=e=>{if("album"===e.type){const s=e.release_date.split("-")[0],t="album"===e.album_type?"Album":"Single";return"".concat(s," \u2022 ").concat(t)}return""}}}]);