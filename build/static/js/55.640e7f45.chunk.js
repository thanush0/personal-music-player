"use strict";(self.webpackChunkpersonal_music_player=self.webpackChunkpersonal_music_player||[]).push([[55],{51055:(e,t,s)=>{s.r(t),s.d(t,{default:()=>H});var n=s(9950),r=s(87094),l=s(41988),i=s(45259),o=s(5193),c=s(54400),a=s(67818),u=s(57434),d=s(28472),m=s(44414);const h=["ALL","MUSIC","PODCASTS"],p=(0,n.memo)((()=>{const e=(0,d.useAppDispatch)(),[t]=(0,a.Bd)(["home"]),s=(0,d.useAppSelector)((e=>e.home.section));return(0,m.jsx)(i.A,{style:{marginLeft:10,marginTop:5,marginBottom:5},children:h.map((n=>(0,m.jsx)(o.A,{text:t(n),active:s===n,onClick:()=>e(u.Dt.setSection(n))},n)))})})),x=e=>{const t=(0,d.useAppSelector)((e=>e.auth.user)),{container:s,sectionContainer:n,color:r}=e;return t?(0,m.jsx)(c.z,{color:r,activeHeider:20,container:s,sectionContainer:n,children:(0,m.jsx)(p,{})}):null};var j=s(92994),g=s(99650),v=s(73028),A=s(88476),y=s(22567),S=s(21812),b=s(53455),f=s(50411);const C=(0,n.memo)((e=>{let{item:t,setColor:s}=e;const r=(0,d.useAppSelector)((e=>{var t;return null===(t=e.spotify.state)||void 0===t?void 0:t.track_window.current_track.id})),l=(0,d.useAppSelector)((e=>{var t;return!(null!==(t=e.spotify.state)&&void 0!==t&&t.paused)})),i=r===t.id,o=(0,y.A)(),c=(0,n.useCallback)((()=>{i||b.D.startPlayback({uris:[t.uri]})}),[i,t.uri]);return(0,n.useEffect)((()=>{t&&(0,S.W)(t.album.images[0].url).then()}),[t]),(0,m.jsx)(v.C,{track:t,trigger:["contextMenu"],children:(0,m.jsxs)("div",{className:"horizontal-playlist",onClick:o?c:void 0,onDoubleClick:o?void 0:c,onMouseEnter:o?void 0:()=>{(0,S.W)(t.album.images[0].url).then((e=>{let t=(0,A.A)(e);for(;t.isLight();)t=t.darken(10);s(t.toHexString())}))},children:[(0,m.jsx)("div",{style:{display:"flex"},children:(0,m.jsx)("div",{className:"img-container",children:(0,m.jsx)("div",{className:"img-section",children:(0,m.jsx)("img",{src:t.album.images[0].url,alt:t.name})})})}),(0,m.jsxs)("div",{className:"text-container",children:[(0,m.jsx)("div",{className:"text-section",children:(0,m.jsx)("div",{children:o?(0,m.jsx)("p",{children:t.name}):(0,m.jsx)(j.N_,{title:t.name,to:"/album/".concat(t.album.id),children:(0,m.jsx)("p",{children:t.name})})})}),(0,m.jsxs)("div",{className:"button-container",children:[i&&l?(0,m.jsx)("img",{height:20,alt:t.name,src:f.GD}):null,(0,m.jsx)(g.N,{size:15,isCurrent:i,context:{uris:[t.uri]}})]})]})]})})})),D=window.innerWidth<768,N=e=>{const t=(0,d.useAppSelector)((e=>e.home.topTracks));return t&&t.length?(0,m.jsx)(r.A,{gutter:[16,16],style:{margin:"20px 0px",marginTop:D?20:70},justify:"space-between",children:t.slice(0,D?4:void 0).map((t=>(0,m.jsx)(l.A,{xs:24,md:12,lg:6,children:(0,m.jsx)(C,{item:t,setColor:e.setColor})},t.name)))}):null};var k=s(28739),L=s(87259);const w=()=>{const{t:e}=(0,a.Bd)(["home"]),t=(0,d.useAppSelector)((e=>e.auth.user)),s=(0,d.useAppSelector)((e=>e.home.madeForYou)),r=(0,n.useMemo)((()=>[...s.filter((e=>{var t;return!(null!==(t=e.name)&&void 0!==t&&t.toLowerCase().includes("mix"))||!e.images||0===e.images.length})),...s.filter((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes("mix"))||!e.images||0===e.images.length})).reverse()].slice(0,12)),[s]);return r&&r.length?(0,m.jsx)("div",{className:"home",children:(0,m.jsx)(k.Sb,{items:r,moreUrl:"/genre/".concat(f.rx),getDescription:L.dY,title:"".concat(e("Made for")," ").concat((null===t||void 0===t?void 0:t.display_name)||e("you"))})}):null},M=()=>{const{t:e}=(0,a.Bd)(["home"]),t=(0,d.useAppSelector)((e=>e.home.newReleases));return t&&t.length?(0,m.jsx)("div",{className:"home",children:(0,m.jsx)(k.Sb,{title:"".concat(e("New releases")),items:t})}):null},B=()=>{const{t:e}=(0,a.Bd)(["home"]),t=(0,d.useAppSelector)((e=>e.home.featurePlaylists));return t&&t.length?(0,m.jsx)("div",{className:"home",children:(0,m.jsx)(k.Sb,{items:t,title:"".concat(e("Featured playlists")),getDescription:L.dY})}):null},Y=(0,n.memo)((()=>{const{t:e}=(0,a.Bd)(["home"]),t=(0,d.useAppSelector)((e=>e.home.recentlyPlayed));return t&&t.length?(0,m.jsx)("div",{className:"home",children:(0,m.jsx)(k.Sb,{title:"".concat(e("Recently played")),items:t.slice(0,10),getDescription:L.Ui})}):null})),T=()=>{const{t:e}=(0,a.Bd)(["home"]),t=(0,d.useAppSelector)((e=>e.home.madeForYou)),s=(0,n.useMemo)((()=>t.filter((e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes("mix")})).slice(0,12)),[t]);return s&&s.length?(0,m.jsx)("div",{className:"home",children:(0,m.jsx)(k.Sb,{items:s,title:e("Your top mixes"),moreUrl:"/genre/".concat(f.rx),getDescription:L.dY})}):null},_=()=>{const{t:e}=(0,a.Bd)(["home"]),t=(0,d.useAppSelector)((e=>e.home.rankings));return t&&t.length?(0,m.jsx)("div",{className:"home",children:(0,m.jsx)(k.Sb,{items:t,title:"".concat(e("Featured Charts")),moreUrl:"/genre/".concat(f.Go),getDescription:L.dY})}):null},U=(0,n.memo)((()=>{const{t:e}=(0,a.Bd)(["home"]),t=(0,d.useAppSelector)((e=>!!e.auth.user)),s=(0,d.useAppSelector)((e=>e.home.trending));return!t&&s&&s.length?(0,m.jsx)("div",{className:"home",children:(0,m.jsx)(k.Sb,{items:s,title:"".concat(e("Trending")),moreUrl:"/genre/".concat(f.LB),getDescription:L.dY})}):null})),P=(0,n.memo)((()=>{const{t:e}=(0,a.Bd)(["home"]),t=(0,d.useAppSelector)((e=>e.yourLibrary.myArtists)),s=(0,n.useMemo)((()=>t.slice(0,12)),[t]);return t&&t.length?(0,m.jsx)("div",{className:"home",children:(0,m.jsx)(k.Sb,{items:s,title:"".concat(e("Your favourite artists"))})}):null})),F=(0,n.memo)((()=>{const{t:e}=(0,a.Bd)(["home"]),t=(0,d.useAppSelector)((e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.id})),s=(0,d.useAppSelector)((e=>e.yourLibrary.myPlaylists)),r=(0,n.useMemo)((()=>s.filter((e=>{var s;return(null===(s=e.owner)||void 0===s?void 0:s.id)===t})).slice(0,12)),[s,t]);return r&&r.length?(0,m.jsx)("div",{className:"home",children:(0,m.jsx)(k.Sb,{items:r,title:"".concat(e("Your playlists"))})}):null})),R=(0,n.memo)((e=>{const{container:t}=e,[s,i]=(0,n.useState)("rgb(66, 32, 35)"),o=(0,y.A)(),c=(0,n.useRef)(null),a=(0,d.useAppSelector)((e=>!!e.auth.user)),u=(0,d.useAppSelector)((e=>e.home.section));return(0,m.jsxs)("div",{ref:c,children:[(0,m.jsx)(x,{color:s,container:t,sectionContainer:c}),(0,m.jsx)("div",{className:"Home-seccion",style:{paddingTop:o?50:0,transition:"background: 5s",background:"linear-gradient(180deg, ".concat(s," 2%, rgb(18, 18, 18) 18%)")},children:(0,m.jsxs)(r.A,{gutter:a?[16,16]:void 0,children:[a?(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(N,{setColor:i})}):null,a?(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(w,{})}):null,a?(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(T,{})}):null,a&&"ALL"===u?(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(Y,{})}):null,(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(B,{})}),a?(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(F,{})}):null,(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(M,{})}),a&&"MUSIC"!==u?null:(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(_,{})}),a&&"MUSIC"!==u?null:(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(U,{})}),a&&"ALL"===u?(0,m.jsx)(l.A,{span:24,children:(0,m.jsx)(P,{})}):null]})})]})})),E=R,H=(0,n.memo)((e=>{const{container:t}=e,s=(0,d.useAppDispatch)(),r=(0,d.useAppSelector)((e=>!!e.auth.user));return(0,n.useEffect)((()=>{r&&(s(u.Dt.fetchTopTracks()),s(u.Dt.fetchMadeForYou()),s(u.Dt.fetchRecentlyPlayed())),s(u.Dt.fetchRanking()),s(u.Dt.fetchTrending()),s(u.Dt.fetchNewReleases()),s(u.Dt.fecthFeaturedPlaylists())}),[r,s]),(0,m.jsx)(E,{container:t})}))},87259:(e,t,s)=>{s.d(t,{Mx:()=>l,Ui:()=>n,dY:()=>r});const n=e=>"playlist"===e.type?r(e):"album"===e.type?l(e):"",r=e=>"playlist"===e.type?(e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""})(e.description||""):"",l=e=>{if("album"===e.type){const t=e.release_date.split("-")[0],s="album"===e.album_type?"Album":"Single";return"".concat(t," \u2022 ").concat(s)}return""}}}]);