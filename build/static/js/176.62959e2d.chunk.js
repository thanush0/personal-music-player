/*! For license information please see 176.62959e2d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpersonal_music_player=self.webpackChunkpersonal_music_player||[]).push([[176],{83390:(e,t,s)=>{s.d(t,{Ay:()=>r,eR:()=>a});var l=s(67818),n=s(9950),i=s(33767),o=s(44414);const r=(0,n.memo)((e=>{const{view:t,fields:s}=e,l="LIST"===t;return(0,o.jsx)("div",{style:{color:"#bababa"},className:"mobile-hidden flex justify-between items-center py-2",children:s.map(((e,t)=>(0,o.jsx)(e,{isList:l},t)))})})),a={Index:e=>(0,o.jsx)("div",{style:{flex:1},children:(0,o.jsx)("h3",{className:"column-name text-center",children:"#"})}),Title:e=>{const{t:t}=(0,l.Bd)(["playlist"]);return(0,o.jsx)("div",{style:{flex:8},children:(0,o.jsx)("h3",{className:"column-name text-left",children:t("Title")})})},Artists:e=>{const{isList:t}=e,{t:s}=(0,l.Bd)(["playlist"]);return t?null:(0,o.jsx)("div",{style:{flex:5},className:"tablet-hidden",children:(0,o.jsx)("h3",{className:"column-name text-left",children:s("Artist")})})},Time:e=>(0,o.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"flex-end"},children:(0,o.jsx)("h3",{style:{marginRight:10,textAlign:"right"},children:(0,o.jsx)(i.zD,{})})}),Space:e=>(0,o.jsx)("div",{style:{flex:1},className:"tablet-hidden"}),Album:e=>{const{t:t}=(0,l.Bd)(["playlist"]);return(0,o.jsx)("div",{style:{flex:5},children:(0,o.jsx)("h3",{className:"column-name tablet-hidden text-left",children:t("Album")})})},DateAdded:e=>{const{t:t}=(0,l.Bd)(["playlist"]);return(0,o.jsx)("div",{style:{flex:3},children:(0,o.jsx)("h3",{className:"column-name tablet-hidden text-left",children:t("Date Added")})})}}},30797:(e,t,s)=>{s.d(t,{Ay:()=>S,jh:()=>A});var l=s(89379),n=s(22748),i=s(13417),o=s(9950),r=s(33767),a=s(73028),c=s(17858),d=s(67818),h=s(28472),u=s(92994),p=s(53455),m=s(23726),f=s(28504),v=s(2287),x=s(22567),g=s(50411),y=s(26359),j=s(44414);const b=e=>e.slice(0,3).map(((t,s)=>(0,j.jsxs)("span",{children:[(0,j.jsx)(m.k,{artist:t,trigger:["contextMenu"],children:(0,j.jsx)(u.N_,{to:"/artist/".concat(t.id),style:{cursor:"pointer"},children:t.name},t.id)}),s<e.slice(0,3).length-1?", ":""]},t.id))),T=e=>{var t,s,l,n,i;let{song:o,isList:r}=e;if(!r)return null;return(null===(t=((null===o||void 0===o||null===(s=o.album)||void 0===s?void 0:s.images)||[])[0])||void 0===t?void 0:t.url)?(0,j.jsx)("img",{alt:"song cover",src:(null===(l=o.album)||void 0===l||null===(n=l.images)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.url)||"/images/playlist.png",className:"w-10 h-10 mr-4 rounded-md"}):null},w=e=>{let{index:t,isCurrent:s,isPlaying:l,onClick:n}=e;return(0,j.jsxs)("div",{style:{flex:1},className:"mobile-hidden",children:[(0,j.jsx)("p",{className:"song-details-index",children:s&&l?(0,j.jsx)("img",{alt:"equaliser",style:{height:10,margin:"0 auto"},src:g.GD}):(0,j.jsx)("span",{style:{margin:"0 auto"},children:t+1})}),(0,j.jsx)("button",{className:"song-details-play",onClick:n,children:s&&l?(0,j.jsx)(r.vR,{}):(0,j.jsx)(r.jG,{})})]})},S=e=>{var t;const{size:s="normal"}=e,{view:n,song:i,index:r,context:c,artist:d,playlist:u,canEdit:m,fields:f,album:v}=e,g=(0,x.A)(),b=(0,h.useAppDispatch)(),T=(0,h.useAppSelector)((e=>!!e.auth.user)),S=(0,h.useAppSelector)((e=>{var t;return!(null===(t=e.spotify.state)||void 0===t||!t.paused)})),A=(0,h.useAppSelector)((e=>{var t;return null===(t=e.spotify.state)||void 0===t?void 0:t.track_window.current_track}),((e,t)=>(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id))),L=(0,o.useMemo)((()=>(null===A||void 0===A?void 0:A.uri)===i.uri),[A,i]),E="LIST"===(g?"LIST":n),N=(0,o.useCallback)((()=>T?L&&S?p.D.pausePlayback():L?p.D.startPlayback():p.D.startPlayback(c):b(y.e5.openLoginModal(i.album.images[0].url))),[T,L,S,c,b,null===(t=i.album)||void 0===t?void 0:t.images]);return(0,j.jsx)(a.C,{track:i,album:v,artist:d,canEdit:m,playlist:u,trigger:["contextMenu"],saved:e.onToggleLike?e.saved:void 0,onSavedToggle:e.onToggleLike?e.onToggleLike:void 0,children:(0,j.jsx)("button",{onClick:g?N:void 0,onDoubleClick:g?void 0:N,className:"flex flex-col w-full hover:bg-spotify-gray-lightest items-center ".concat("normal"===s?"p-2":""," rounded-lg ").concat(e.activable?"activable-song":""),children:(0,j.jsx)("div",{className:"song-details flex flex-row items-center w-full",children:(0,j.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[void 0!==r?(0,j.jsx)(w,{index:r,isCurrent:L,isPlaying:S,onClick:N}):null,f.map(((t,s)=>(0,j.jsx)(t,(0,l.A)({isList:E,onPlay:N,isCurrent:L,isPlaying:S},e),s)))]})})})},i.id)},A={Title:e=>{const{song:t,isList:s,isCurrent:l}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"flex flex-col",style:{flex:8},children:(0,j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,j.jsx)("div",{className:"flex flex-row items-center",children:(0,j.jsxs)("p",{className:"title text-left ".concat(l?"active":""),children:[(0,j.jsx)("span",{children:t.name})," ",t.explicit&&!s?(0,j.jsx)("span",{className:"explicit",children:"E"}):null]})}),s?(0,j.jsxs)("p",{className:"text-left artist mobile-hidden",children:[t.explicit?(0,j.jsx)("span",{className:"explicit",children:"E"}):null,b(t.artists)]}):null]})})})})},ClickeableCover:e=>{var t,s;const{song:l,onPlay:n,isCurrent:i,isPlaying:o}=e,a=(0,j.jsx)("button",{className:"image-button",onClick:n,children:o&&i?(0,j.jsx)(r.vR,{}):(0,j.jsx)(r.jG,{})}),c=null===(t=((null===l||void 0===l||null===(s=l.album)||void 0===s?void 0:s.images)||[])[0])||void 0===t?void 0:t.url;return c?(0,j.jsx)("div",{className:"image p-2 h-full items-center",children:(0,j.jsxs)("div",{style:{position:"relative"},children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:c,alt:l.album.name,className:"rounded-md",style:{width:40,height:40}})}),a]})}):null},TitleWithCover:e=>{const{song:t,isList:s,isCurrent:n}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"flex flex-col",style:{flex:8},children:(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,j.jsx)(T,(0,l.A)({},e)),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,j.jsx)("div",{className:"flex flex-row items-center",children:(0,j.jsxs)("p",{className:"title text-left ".concat(n?"active":""),children:[(0,j.jsx)("span",{children:t.name})," ",t.explicit&&!s?(0,j.jsx)("span",{className:"explicit",children:"E"}):null]})}),s?(0,j.jsxs)("p",{className:"text-left artist mobile-hidden",children:[t.explicit?(0,j.jsx)("span",{className:"explicit",children:"E"}):null,(0,j.jsx)("div",{children:b(t.artists)})]}):null]})]})})})},Artists:e=>{let{song:t,isList:s}=e;return s?null:(0,j.jsx)("p",{className:"text-left tablet-hidden",style:{flex:5},children:b(t.artists)})},Cover:T,Album:e=>{let{song:t}=e;const s=(0,u.Zp)(),l=(0,h.useAppDispatch)(),n=(0,h.useAppSelector)((e=>!!e.auth.user)),i=(0,o.useCallback)((e=>{if(e&&e.stopPropagation(),e&&e.preventDefault(),!n)return l(y.e5.openLoginModal(t.album.images[0].url));s("/album/".concat(t.album.id))}),[n,s,t.album.id,t.album.images,l]);return(0,j.jsx)("p",{className:"text-left tablet-hidden",style:{flex:5},children:(0,j.jsx)(u.N_,{to:"/album/".concat(t.album.id),onClick:i,children:t.album.name})})},AddedAt:e=>{let{addedAt:t}=e;const s=(0,h.useAppSelector)((e=>e.language.language));return t?(0,j.jsx)("p",{className:"text-left tablet-hidden",style:{flex:3},children:(0,j.jsx)(i.A,{date:new Date(t),locale:"es"===s?"es-AR":void 0})}):null},AddToLiked:e=>{let{song:t,saved:s,onLikeRefresh:l}=e;const n=(0,h.useAppDispatch)(),i=(0,h.useAppSelector)((e=>{var t;return null===(t=e.spotify.state)||void 0===t?void 0:t.track_window.current_track.id}));return(0,j.jsx)("p",{className:"text-right tablet-hidden",style:{flex:1,display:"flex",justifyContent:"end"},children:(0,j.jsx)(f.$,{size:18,id:t.id,isSaved:!!s,onToggle:()=>{l&&l(t.id),i===t.id&&n(v.gj.setLiked({liked:!s}))}})})},Actions:e=>{let{song:t}=e;const[s]=(0,d.Bd)(["order"]);return(0,j.jsx)("p",{className:"text-right actions tablet-hidden",style:{flex:1,display:"flex",justifyContent:"center"},children:(0,j.jsx)(a.C,{track:t,trigger:["click"],children:(0,j.jsx)("div",{children:(0,j.jsx)(n.A,{title:"".concat(s("More options for")," ").concat(t.name),children:(0,j.jsx)("div",{children:(0,j.jsx)(r.ZB,{})})})})})})},Time:e=>{let{song:t}=e;return(0,j.jsx)("p",{className:"text-right ",style:{flex:1,display:"flex",justifyContent:"end"},children:(0,c.n)(t.duration_ms)})}}},40327:(e,t,s)=>{s.d(t,{A:()=>a});var l=s(9950),n=s(92994),i=s(67818),o=s(44414);const r=(0,l.memo)((e=>{const t=(0,n.Zp)(),[s]=(0,i.Bd)(["search"]);return(0,o.jsx)("div",{className:"wrapper",children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("h3",{children:s("No results")}),(0,o.jsxs)("p",{children:[s("No results where found for"),' "',e.searchValue,'".']}),(0,o.jsx)("button",{onClick:()=>t("/"),children:s("Home")})]})})}));r.displayName="NoSearchResults";const a=r},44176:(e,t,s)=>{s.r(t),s.d(t,{SearchSongsPage:()=>b,default:()=>T});var l=s(89379),n=s(9950),i=s(40327),o=s(87094),r=s(41988),a=s(30797),c=s(1200),d=s(28472),h=s(44414);const u=e=>{const{song:t,index:s}=e,i=(0,d.useAppDispatch)(),o=(0,d.useAppSelector)((e=>e.search.songs)),r=(0,n.useMemo)((()=>null===o||void 0===o?void 0:o.slice(s).map((e=>e.uri))),[o,s]),u=(0,n.useCallback)((()=>{i(c.OG.setSavedStateForTrack({id:t.id,saved:!t.saved}))}),[i,t.saved,t.id]);return(0,h.jsx)(a.Ay,{activable:!0,song:t,view:"LIST",index:s,saved:t.saved,context:{uris:r},onToggleLike:u,fields:[a.jh.TitleWithCover,a.jh.Artists,a.jh.Album,a.jh.AddedAt,e=>(0,h.jsx)(a.jh.AddToLiked,(0,l.A)((0,l.A)({},e),{},{onLikeRefresh:u})),a.jh.Time,a.jh.Actions]})};var p=s(23072),m=s(83390);const f=()=>{const e=(0,d.useAppSelector)((e=>e.playlist.view));return(0,h.jsx)(m.Ay,{view:e,fields:[m.eR.Index,m.eR.Title,m.eR.Album,m.eR.Space,m.eR.Time,m.eR.Space]})};var v=s(50416);const x=(0,n.memo)((e=>{const t=(0,d.useAppDispatch)(),s=(0,d.useAppSelector)((e=>e.search.songs)),l=(0,d.useAppSelector)((e=>e.search.songsTotal)),n=s.length>0,i=s.length<l;return(0,h.jsxs)("div",{children:[n?(0,h.jsx)("div",{className:"playlist-table",children:(0,h.jsx)(f,{})}):(0,h.jsx)(p.A,{}),n?(0,h.jsx)("div",{style:{paddingBottom:30},children:(0,h.jsx)(v.A,{loader:null,hasMore:i,scrollThreshold:.4,dataLength:s.length,next:()=>{t(c.OG.fetchMoreSongs(e.query))},children:(0,h.jsx)("div",{children:s.map(((e,t)=>(0,h.jsx)(u,{song:e,index:t},e.id)))})})}):null]})})),g=(0,n.memo)((e=>{const t=(0,d.useAppSelector)((e=>e.search.songs));return t&&t.length?(0,h.jsx)(x,(0,l.A)({},e)):null})),y=e=>(0,h.jsx)(o.A,{gutter:[16,16],children:(0,h.jsx)(r.A,{span:24,children:(0,h.jsx)(g,{query:e.query})})});var j=s(92994);const b=(0,n.memo)((e=>{const t=(0,d.useAppDispatch)(),s=(0,j.g)(),o=(0,d.useAppSelector)((e=>e.search.loading)),r=(0,d.useAppSelector)((e=>e.search.songs));return(0,n.useEffect)((()=>{t(c.OG.setSection("TRACKS"))}),[t]),(0,n.useEffect)((()=>{s.search&&t(c.OG.fetchSongs(s.search))}),[t,s.search]),o?null:r?(0,h.jsx)(y,(0,l.A)((0,l.A)({},e),{},{query:s.search})):(0,h.jsx)(i.A,{searchValue:s.search||""})})),T=b},50416:(e,t,s)=>{s.d(t,{A:()=>d});var l=s(9950),n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},n(e,t)};var i=function(){return i=Object.assign||function(e){for(var t,s=1,l=arguments.length;s<l;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};var o="Pixel",r="Percent",a={unit:r,value:.8};function c(e){return"number"===typeof e?{unit:r,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:o,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:r,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),a):(console.warn("scrollThreshold should be string or number"),a)}const d=function(e){function t(t){var s=e.call(this,t)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:"string"===typeof s.props.scrollableTarget?document.getElementById(s.props.scrollableTarget):(null===s.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},s.onStart=function(e){s.lastScrollTop||(s.dragging=!0,e instanceof MouseEvent?s.startY=e.pageY:e instanceof TouchEvent&&(s.startY=e.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(e){s.dragging&&(e instanceof MouseEvent?s.currentY=e.pageY:e instanceof TouchEvent&&(s.currentY=e.touches[0].pageY),s.currentY<s.startY||(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),s.currentY-s.startY>1.5*s.maxPullDownDistance||s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")}))},s.onScrollListener=function(e){"function"===typeof s.props.onScroll&&setTimeout((function(){return s.props.onScroll&&s.props.onScroll(e)}),0);var t=s.props.height||s._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;s.actionTriggered||((s.props.inverse?s.isElementAtTop(t,s.props.scrollThreshold):s.isElementAtBottom(t,s.props.scrollThreshold))&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=t.scrollTop)},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},s.throttledOnScrollListener=function(e,t,s,l){var n,i=!1,o=0;function r(){n&&clearTimeout(n)}function a(){var a=this,c=Date.now()-o,d=arguments;function h(){o=Date.now(),s.apply(a,d)}i||(l&&!n&&h(),r(),void 0===l&&c>e?h():!0!==t&&(n=setTimeout(l?function(){n=void 0}:h,void 0===l?e-c:e)))}return"boolean"!==typeof t&&(l=s,s=t,t=void 0),a.cancel=function(){r(),i=!0},a}(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?i(i({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var s=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,l=c(t);return l.unit===o?e.scrollTop<=l.value+s-e.scrollHeight+1:e.scrollTop<=l.value/100+s-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var s=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,l=c(t);return l.unit===o?e.scrollTop+s>=e.scrollHeight-l.value:e.scrollTop+s>=l.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=i({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),n=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return l.createElement("div",{style:n,className:"infinite-scroll-component__outerdiv"},l.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&l.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},l.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(l.Component)}}]);